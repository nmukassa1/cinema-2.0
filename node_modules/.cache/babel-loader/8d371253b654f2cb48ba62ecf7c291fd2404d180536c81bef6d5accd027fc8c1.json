{"ast":null,"code":"var _jsxFileName = \"/Users/Ny/Desktop/cinema/src/Components/FilmScheduel.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport useData from '../Hooks/useData';\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FilmScheduel({\n  filterFilmByDay\n}) {\n  _s();\n  const {\n    filmDb,\n    locationShowings,\n    daysOfWeek,\n    dates\n  } = useData();\n  const {\n    id,\n    location\n  } = useParams();\n  const [day, setDay] = useState('TODAY');\n  const [filmScheduel, setFilmScheduel] = useState([]);\n\n  // OBJECTIVE: Find the correct movie the user has clicked \n  let cinemaLocation;\n  let locationScheduel; // This acts as the scheduel for the whole week of every film\n\n  let currentFilmScheduel = [];\n  useEffect(() => {\n    setFilmScheduel(currentFilmScheduel);\n  }, []);\n\n  //Show schedule for what day was clicked\n  useEffect(() => {\n    if (filterFilmByDay !== null) {\n      const dayInfo = locationScheduel.find(item => item.dateId === filterFilmByDay);\n      const movie = dayInfo.movies.find(item => item.id === id.toString());\n      setDay(dayInfo.date);\n      setFilmScheduel([movie]);\n      // console.log(x);\n    }\n  }, [filterFilmByDay]);\n  if (locationShowings) {\n    //  location of cinema\n    cinemaLocation = locationShowings.find(item => item.location === location);\n\n    // scheduel for week\n    locationScheduel = Object.values(cinemaLocation.schedual);\n\n    // Isolate the schedule for the wwek for the current film I need right now\n    // Itterate over the locationScheduel array\n    for (let i = 0; i < locationScheduel.length; i++) {\n      // Isolate each day\n      let day = locationScheduel[i].date;\n\n      // Itterate over the movie array so I can find which item matches the search query / movie I'm looking for. \n      locationScheduel[i].movies.forEach(movie => {\n        if (movie.id === id) currentFilmScheduel.push({\n          day: day,\n          time_screen: movie.time_screen\n        });\n        // setFilmScheduel(currentFilmScheduel)\n      });\n    }\n  }\n\n  // const x = <span>{day}</span>\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"schedule\",\n    children: filmScheduel.length > 0 && filmScheduel.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: index === 0 ? `UPCOMING SHOWINGS FOR ${daysOfWeek[dates[index].getDay()]}` : daysOfWeek[dates[index].getDay()]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"card-schedule-container\",\n        children: item.time_screen.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"card-schedule\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"time\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: item.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"screen\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Screen \", item.screen]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"price\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"FROM \\xA34.99\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 37\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 25\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(FilmScheduel, \"sFVKHfsW5fFB6t6pZQK37hnXQE4=\", false, function () {\n  return [useData, useParams];\n});\n_c = FilmScheduel;\nexport default FilmScheduel;\nvar _c;\n$RefreshReg$(_c, \"FilmScheduel\");","map":{"version":3,"names":["useState","useEffect","useData","useParams","jsxDEV","_jsxDEV","FilmScheduel","filterFilmByDay","_s","filmDb","locationShowings","daysOfWeek","dates","id","location","day","setDay","filmScheduel","setFilmScheduel","cinemaLocation","locationScheduel","currentFilmScheduel","dayInfo","find","item","dateId","movie","movies","toString","date","Object","values","schedual","i","length","forEach","push","time_screen","className","children","map","index","getDay","fileName","_jsxFileName","lineNumber","columnNumber","time","screen","_c","$RefreshReg$"],"sources":["/Users/Ny/Desktop/cinema/src/Components/FilmScheduel.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport useData from '../Hooks/useData'\nimport { useParams } from \"react-router-dom\";\n\nfunction FilmScheduel({filterFilmByDay}) {\n\n    const {filmDb, locationShowings, daysOfWeek, dates} = useData()\n    const {id, location} = useParams();\n    const [day, setDay] = useState('TODAY')\n    const [filmScheduel, setFilmScheduel] = useState([])\n\n    \n\n    // OBJECTIVE: Find the correct movie the user has clicked \n    let cinemaLocation\n    let locationScheduel // This acts as the scheduel for the whole week of every film\n\n    let currentFilmScheduel = []\n\n    useEffect(() => {\n        setFilmScheduel(currentFilmScheduel)\n    }, [])\n\n    //Show schedule for what day was clicked\n    useEffect(() => {\n        if(filterFilmByDay !== null){\n            const dayInfo = locationScheduel.find((item) => item.dateId === filterFilmByDay);\n            const movie = dayInfo.movies.find((item) => item.id === id.toString())\n            setDay(dayInfo.date)\n            setFilmScheduel([movie])\n            // console.log(x);\n        }\n    }, [filterFilmByDay])\n\n    if (locationShowings) {\n        //  location of cinema\n        cinemaLocation = locationShowings.find((item) => item.location === location )\n\n        // scheduel for week\n        locationScheduel = Object.values(cinemaLocation.schedual)\n\n        // Isolate the schedule for the wwek for the current film I need right now\n        // Itterate over the locationScheduel array\n        for(let i = 0; i < locationScheduel.length; i++){\n            // Isolate each day\n            let day = locationScheduel[i].date;\n\n            // Itterate over the movie array so I can find which item matches the search query / movie I'm looking for. \n            locationScheduel[i].movies.forEach((movie) => {\n                if(movie.id === id) currentFilmScheduel.push({day: day, time_screen: movie.time_screen})\n                // setFilmScheduel(currentFilmScheduel)\n            })\n        }\n    }\n\n    // const x = <span>{day}</span>\n\n\n    return ( \n        <div className=\"schedule\">\n            {filmScheduel.length > 0 && (\n                filmScheduel.map((item, index) => (\n                    <div key={index}>\n                        <h2>\n                            {index === 0 ? `UPCOMING SHOWINGS FOR ${daysOfWeek[dates[index].getDay()]}` : daysOfWeek[dates[index].getDay()]}\n                        </h2> \n                        <ul className=\"card-schedule-container\">\n                            {item.time_screen.map((item, index) => (\n                                <li key={index}>\n                                    <button className=\"card-schedule\">\n                                        <div>\n                                            <div className=\"time\">\n                                                <span>{item.time}</span>\n                                            </div>\n                                            <div className=\"screen\">\n                                                <span>Screen {item.screen}</span>\n                                            </div>\n                                        </div>\n                                        <div className=\"price\">\n                                            <span>FROM Â£4.99</span>\n                                        </div>\n                                    </button>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                ))\n            )}\n        </div>\n    );\n}\n\nexport default FilmScheduel;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}